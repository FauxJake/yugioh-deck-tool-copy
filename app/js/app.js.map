{"version":3,"file":"app.js","sources":["data/priceCurrencies.js","data/priceModes.js","data/deckParts.js","appData.js","methods/uriLocationNoParam.js","methods/utilEachObject.js","methods/apiLoadNames.js","data/apiURLs.js","methods/apiLoadPrices.js","methods/convertFileToDeck.js","methods/deckLoad.js","methods/uriDeckDecode.js","methods/deckLoadUri.js","methods/uriDeckEncode.js","methods/deckUpdate.js","methods/deckCardsWithoutPriceData.js","methods/priceConvert.js","methods/priceForCard.js","methods/priceForSection.js","methods/builderUpdateNames.js","methods/builderDeckAdd.js","methods/builderDeckRemove.js","../../node_modules/file-saver/FileSaver.js","methods/convertDeckToFile.js","methods/fileDownloadDeck.js","appMethods.js","app.js"],"sourcesContent":["\"use strict\";\n\nconst priceCurrencies = [{\n    id: \"dollar_us\",\n    name: \"US Dollar\",\n    label: \"$\",\n    val: 1\n}, {\n    id: \"euro\",\n    name: \"Euro\",\n    label: \"€\",\n    val: 0.918603\n}, {\n    id: \"pound\",\n    name: \"Pound\",\n    label: \"£\",\n    val: 0.793752\n}, {\n    id: \"dollar_ca\",\n    name: \"Canadian Dollar\",\n    label: \"$\",\n    val: 1.33448\n}, {\n    id: \"dollar_au\",\n    name: \"Australian Dollar\",\n    label: \"$\",\n    val: 1.30931\n}];\n\nexport default priceCurrencies;\n","\"use strict\";\n\nconst priceModes = [{\n    id: \"low\",\n    name: \"Low\",\n}, {\n    id: \"average\",\n    name: \"Average\",\n}, {\n    id: \"high\",\n    name: \"High\",\n}];\n\nexport default priceModes;\n","\"use strict\";\n\nconst deckParts = [{\n    id: \"main\",\n    name: \"Main\",\n    fileId: \"#main\",\n    size: [40, 60]\n}, {\n    id: \"extra\",\n    name: \"Extra\",\n    fileId: \"#extra\",\n    size: [0, 15]\n}, {\n    id: \"side\",\n    name: \"Side\",\n    fileId: \"!side\",\n    size: [0, 15]\n}];\n\nexport default deckParts;\n","\"use strict\";\n\nimport dataPriceCurrencies from \"./data/priceCurrencies\";\nimport dataPriceModes from \"./data/priceModes\";\nimport dataDeckParts from \"./data/deckParts\";\n\nconst appData = {\n    deckparts: dataDeckParts,\n    deck: {\n        name: \"Unnamed\",\n        link: \"\",\n        list: {\n            main: [],\n            extra: [],\n            side: []\n        }\n    },\n    cards: {\n        pairs: [],\n        data: {}\n    },\n    builder: {\n        filter: \"\",\n        pairsFiltered: [],\n    },\n    price: {\n        activeCurrency: \"dollar_us\",\n        modes: dataPriceModes,\n        currencies: dataPriceCurrencies\n    },\n    ajax: {\n        currentlyLoading: false,\n        namesLoaded: false,\n        pricesLoaded: false\n    }\n};\n\nexport default appData;\n","\"use strict\";\n\nconst uriLocationNoParam = function () {\n    return location.origin + location.pathname;\n};\n\nexport default uriLocationNoParam;\n","\"use strict\";\n\nconst eachObject = function (object, fn) {\n    const keys = Object.keys(object);\n    const l = keys.length;\n    let i = 0;\n\n    while (i < l) {\n        const currentKey = keys[i];\n\n        fn(object[currentKey], currentKey, i);\n        i++;\n    }\n};\n\nexport default eachObject;\n","\"use strict\";\n\nimport {\n    nameAPI,\n    imageAPI,\n    buyAPI\n} from \"../data/apiURLs\";\nimport utilEachObject from \"./utilEachObject\";\n\nconst apiLoadNames = function () {\n    const vm = this;\n\n    vm.ajax.currentlyLoading = true;\n    vm.ajax.namesLoaded = false;\n\n    fetch(nameAPI)\n        .then(response => {\n            return response.json();\n        })\n        .then(json => {\n            const resultData = {};\n            const resultPairs = [];\n            const nameStorage = [];\n\n            utilEachObject(json, (name, id) => {\n                resultData[id] = {\n                    name,\n                    img: `${imageAPI}/${id}.jpg`,\n                    link: `${buyAPI}${encodeURI(name)}`,\n                    price: false\n                };\n\n                //Only add each card once to pars, skip alternate arts\n                if (nameStorage.indexOf(name) === -1) {\n                    resultPairs.push([id, name]);\n                }\n\n                nameStorage.push(name);\n            });\n\n            vm.cards.data = resultData;\n            vm.cards.pairs = resultPairs.sort((a, b) => a[1].localeCompare(b[1]));\n            vm.builderUpdateNames();\n\n            vm.ajax.currentlyLoading = false;\n            vm.ajax.namesLoaded = true;\n        });\n};\n\nexport default apiLoadNames;\n","\"use strict\";\n\nexport const nameAPI = \"./api/names/names.min.json\";\nexport const priceAPI = \"./api/prices/prices.php?n=\";\nexport const imageAPI = \"https://ygoprodeck.com/pics\";\nexport const buyAPI = \"http://yugiohprices.com/card_price?name=\";\n","\"use strict\";\n\nimport {\n    priceAPI\n} from \"../data/apiURLs\";\n//import utilEachObject from \"./utilEachObject\";\n\nconst apiLoadPrices = function () {\n    const vm = this;\n    //Array of unique ids, minus the ones where prices were already loaded\n    const cardIds = vm.deckCardsWithoutPriceData();\n\n    if (cardIds.length > 0) {\n        const cardNames = cardIds.map(cardId => vm.cards.data[cardId].name);\n        const priceQuery = btoa(JSON.stringify(cardNames));\n\n        vm.ajax.currentlyLoading = true;\n        vm.ajax.pricesLoaded = false;\n\n        fetch(priceAPI + priceQuery)\n            .then(response => {\n                return response.json();\n            })\n            .then(json => {\n                cardIds.forEach((id, index) => {\n                    const priceData = json[index];\n                    const card = vm.cards.data[id];\n\n                    if (card) {\n                        card.price = {\n                            low: priceData.low,\n                            average: priceData.average,\n                            high: priceData.high\n                        };\n                    }\n                });\n\n                vm.ajax.currentlyLoading = false;\n                vm.ajax.pricesLoaded = true;\n            });\n    } else {\n        vm.ajax.pricesLoaded = true;\n    }\n};\n\nexport default apiLoadPrices;\n","\"use strict\";\n\nimport deckParts from \"../data/deckParts\";\n\nconst convertFileToDeck = function (fileContent) {\n    const fileContentTrimmed = fileContent.replace(/#created.+/, \"\").trim();\n    const arr = fileContentTrimmed.split(/[#!].+/g).splice(1);\n    const arrParts = arr.map(part => part.split(\"\\n\").filter(line => line.length > 1).map(Number));\n    const result = {};\n\n    deckParts.forEach((deckpart, index) => {\n        result[deckpart.id] = arrParts[index];\n    });\n\n    return result;\n};\n\nexport default convertFileToDeck;\n","\"use strict\";\n\nimport convertFileToDeck from \"./convertFileToDeck\";\n\nconst deckLoad = function (file) {\n    const reader = new FileReader();\n    const vm = this;\n\n    reader.onload = function (e) {\n        const fileContent = e.target.result;\n        const deckList = convertFileToDeck(fileContent);\n\n        vm.deck.name = file.name.replace(\".ydk\", \"\");\n        vm.deck.list = deckList;\n        vm.deckUpdate();\n    };\n\n    reader.readAsText(file);\n};\n\nexport default deckLoad;\n","\"use strict\";\n\nimport deckParts from \"../data/deckParts\";\n\nconst uriDeckDecode = function (deckUri) {\n    const deckArray = JSON.parse(atob(deckUri.replace(\"?d=\", \"\")));\n    const deckList = {};\n\n    deckParts.forEach((deckpart, index) => {\n        deckList[deckpart.id] = deckArray[1][index];\n    });\n\n    return [deckArray[0], deckList];\n};\n\nexport default uriDeckDecode;\n","\"use strict\";\n\nimport uriDeckDecode from \"./uriDeckDecode\";\n\nconst deckLoadUri = function (uriDeck) {\n    const vm = this;\n    const deckArray = uriDeckDecode(uriDeck);\n\n    vm.deck.name = deckArray[0];\n    vm.deck.list = deckArray[1];\n    vm.deckUpdate(uriDeck);\n};\n\nexport default deckLoadUri;\n","\"use strict\";\n\n\nconst uriDeckEncode = function (deck) {\n    const deckArray = [deck.name, Object.values(deck.list)];\n    const deckUri = btoa(JSON.stringify(deckArray));\n\n    return \"?d=\" + deckUri;\n};\n\nexport default uriDeckEncode;\n","\"use strict\";\n\nimport uriDeckEncode from \"./uriDeckEncode\";\n\nconst deckUpdate = function (deckLink) {\n    const vm = this;\n\n    vm.deck.link = deckLink || uriDeckEncode(vm.deck);\n    vm.ajax.pricesLoaded = false;\n};\n\nexport default deckUpdate;\n","\"use strict\";\n\nimport utilEachObject from \"./utilEachObject\";\n\nconst deckCardsWithoutPriceData = function () {\n    const vm = this;\n    const data = vm.cards.data;\n    const result = [];\n\n    utilEachObject(vm.deck.list, deckpart => {\n        deckpart.forEach(cardId => {\n            if (result.indexOf(cardId) === -1 && !data[cardId].price) {\n                result.push(cardId);\n            }\n        });\n    });\n\n    return result;\n};\n\nexport default deckCardsWithoutPriceData;\n","\"use strict\";\n\nconst priceConvert = function (price) {\n    const vm = this;\n    const currency = vm.price.currencies.find(item => item.id === vm.price.activeCurrency);\n    const val = (price * currency.val).toFixed(2);\n\n    return val + currency.label;\n};\n\nexport default priceConvert;\n","\"use strict\";\n\nconst priceForCard = function (id, mode) {\n    const vm = this;\n    const price = vm.cards.data[id].price[mode];\n\n    if (price) {\n        return vm.priceConvert(price);\n    } else {\n        return \"Not found\";\n    }\n};\n\nexport default priceForCard;\n","\"use strict\";\n\nimport utilEachObject from \"./utilEachObject\";\n\nconst priceForSection = function (section, mode) {\n    const priceSum = function (arr) {\n        let result = 0;\n\n        if (arr && arr.length) {\n            arr.forEach(id => {\n                const cardData = vm.cards.data[id];\n                if (cardData && cardData.price && cardData.price[mode]) {\n                    result += cardData.price[mode];\n                }\n            });\n        }\n\n        return result;\n    };\n    const vm = this;\n    let price = 0;\n\n    if (section === \"*\") {\n        utilEachObject(vm.deck.list, deckpart => {\n            price += priceSum(deckpart);\n        });\n    } else {\n        price = priceSum(vm.deck.list[section]);\n    }\n\n    return vm.priceConvert(price);\n};\n\nexport default priceForSection;\n","\"use strict\";\n\nconst builderUpdateNames = function () {\n    const vm = this;\n    const filter = vm.builder.filter.toLowerCase();\n    let result = vm.cards.pairs.filter(card => {\n        return card[1].toLowerCase().indexOf(filter) !== -1;\n    });\n\n    if (result.length > 500) {\n        result = result.splice(0, 500);\n    }\n\n    vm.builder.pairsFiltered = result;\n};\n\nexport default builderUpdateNames;\n","\"use strict\";\n\nconst builderDeckAdd = function (id, part) {\n    const vm = this;\n    const cardId = Number(id);\n    const deckPart = vm.deck.list[part];\n    const deckPartMax = vm.deckparts.find(deckpart => deckpart.id === part).size[1];\n\n    if (deckPart.length < deckPartMax && deckPart.filter(id => id === cardId).length < 3) {\n        deckPart.push(cardId);\n        vm.deckUpdate();\n    }\n};\n\nexport default builderDeckAdd;\n","\"use strict\";\n\nconst builderDeckRemove = function (id, part) {\n    const vm = this;\n    let foundCard = false;\n\n    vm.deck.list[part] = vm.deck.list[part].filter(cardId => {\n        if (!foundCard) {\n            if (id === cardId) {\n                foundCard = true;\n                return false;\n            }\n        }\n        return true;\n    });\n    vm.deckUpdate();\n};\n\nexport default builderDeckRemove;\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","\"use strict\";\n\nimport deckParts from \"../data/deckParts\";\n\nconst convertDeckToFile = function (deckList) {\n    let result = [];\n\n    deckParts.forEach(deckpart => {\n        result.push(deckpart.fileId);\n        result = result.concat(deckList[deckpart.id]);\n    });\n\n    return result.join(\"\\n\");\n};\n\nexport default convertDeckToFile;\n","\"use strict\";\n\nimport FileSaver from \"file-saver/FileSaver.js\";\n\nimport convertDeckToFile from \"./convertDeckToFile.js\";\n\nconst fileDownloadDeck = function () {\n    const vm = this;\n    const fileData = convertDeckToFile(vm.deck.list);\n    const file = new File([fileData], vm.deck.name + \".ydk\", {\n        type: \"text/ydk\"\n    });\n\n    return FileSaver.saveAs(file);\n};\n\nexport default fileDownloadDeck;\n","\"use strict\";\n\nimport uriLocationNoParam from \"./methods/uriLocationNoParam\";\n\nimport apiLoadNames from \"./methods/apiLoadNames\";\nimport apiLoadPrices from \"./methods/apiLoadPrices\";\n\nimport deckLoad from \"./methods/deckLoad\";\nimport deckLoadUri from \"./methods/deckLoadUri\";\nimport deckUpdate from \"./methods/deckUpdate\";\nimport deckCardsWithoutPriceData from \"./methods/deckCardsWithoutPriceData\";\n\nimport priceConvert from \"./methods/priceConvert\";\nimport priceForCard from \"./methods/priceForCard\";\nimport priceForSection from \"./methods/priceForSection\";\n\nimport builderUpdateNames from \"./methods/builderUpdateNames\";\nimport builderDeckAdd from \"./methods/builderDeckAdd\";\nimport builderDeckRemove from \"./methods/builderDeckRemove\";\n\nimport fileDownloadDeck from \"./methods/fileDownloadDeck\";\n\nconst appMethods = {\n    uriLocationNoParam,\n\n    apiLoadNames,\n    apiLoadPrices,\n\n    deckLoad,\n    deckLoadUri,\n    deckUpdate,\n    deckCardsWithoutPriceData,\n\n    priceConvert,\n    priceForCard,\n    priceForSection,\n\n    builderUpdateNames,\n    builderDeckAdd,\n    builderDeckRemove,\n\n    fileDownloadDeck,\n\n    onFileChange(e) {\n        const vm = this;\n        const files = e.target.files || e.dataTransfer.files;\n\n        vm.deckLoad(files[0]);\n    }\n};\n\nexport default appMethods;\n","\"use strict\";\n\nimport Vue from \"Vue/dist/vue.esm.js\";\nimport appData from \"./appData\";\nimport appMethods from \"./appMethods\";\n\n//ready-event required because ygoprodeck.com loads scripts in head\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const urlQuery = location.search;\n    const priceApp = new Vue({\n        el: \"#app\",\n        data: appData,\n        methods: appMethods\n    });\n\n    priceApp.apiLoadNames();\n\n    if (urlQuery.indexOf(\"?d\") !== -1) {\n        priceApp.deckLoadUri(urlQuery);\n    }\n});\n"],"names":["priceCurrencies","priceModes","deckParts","appData","dataDeckParts","dataPriceModes","dataPriceCurrencies","uriLocationNoParam","location","origin","pathname","eachObject","object","fn","keys","Object","l","length","i","currentKey","apiLoadNames","vm","this","ajax","currentlyLoading","namesLoaded","then","response","json","resultData","resultPairs","nameStorage","name","id","imageAPI","encodeURI","indexOf","push","cards","data","pairs","sort","a","b","localeCompare","builderUpdateNames","apiLoadPrices","cardIds","deckCardsWithoutPriceData","cardNames","map","cardId","priceQuery","btoa","JSON","stringify","pricesLoaded","forEach","index","priceData","card","price","low","average","high","convertFileToDeck","fileContent","fileContentTrimmed","replace","trim","arr","split","splice","arrParts","part","filter","line","Number","result","deckpart","deckLoad","file","reader","FileReader","onload","e","target","deckList","deck","list","deckUpdate","readAsText","uriDeckDecode","deckUri","deckArray","parse","atob","deckLoadUri","uriDeck","uriDeckEncode","values","deckLink","link","priceConvert","currency","currencies","find","item","activeCurrency","val","toFixed","label","priceForCard","mode","priceForSection","section","priceSum","cardData","builder","toLowerCase","pairsFiltered","builderDeckAdd","deckPart","deckPartMax","deckparts","size","builderDeckRemove","foundCard","saveAs","view","navigator","test","userAgent","doc","document","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","click","node","event","MouseEvent","dispatchEvent","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","setTimeout","revoke","revoker","revokeObjectURL","remove","dispatch","filesaver","event_types","concat","listener","call","auto_bom","blob","type","Blob","String","fromCharCode","FileSaver","no_auto_bom","object_url","force","dispatch_all","readyState","INIT","createObjectURL","href","download","DONE","onloadend","url","open","undefined","readAsDataURL","FS_proto","prototype","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","window","content","module","exports","convertDeckToFile","fileId","join","fileDownloadDeck","fileData","File","appMethods","files","dataTransfer","addEventListener","urlQuery","search","priceApp","Vue"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvZGF0YS9wcmljZUN1cnJlbmNpZXMuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL2RhdGEvcHJpY2VNb2Rlcy5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvZGF0YS9kZWNrUGFydHMuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL2FwcERhdGEuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvdXJpTG9jYXRpb25Ob1BhcmFtLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL3V0aWxFYWNoT2JqZWN0LmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL2FwaUxvYWROYW1lcy5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvZGF0YS9hcGlVUkxzLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL2FwaUxvYWRQcmljZXMuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvY29udmVydEZpbGVUb0RlY2suanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvZGVja0xvYWQuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvdXJpRGVja0RlY29kZS5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvbWV0aG9kcy9kZWNrTG9hZFVyaS5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvbWV0aG9kcy91cmlEZWNrRW5jb2RlLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL2RlY2tVcGRhdGUuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvZGVja0NhcmRzV2l0aG91dFByaWNlRGF0YS5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvbWV0aG9kcy9wcmljZUNvbnZlcnQuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvcHJpY2VGb3JDYXJkLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL3ByaWNlRm9yU2VjdGlvbi5qcyIsIi9tbnQvYy93b3Jrc3BhY2Uvd3d3L3lnb2RlY2twcmljZS9zcmMvanMvbWV0aG9kcy9idWlsZGVyVXBkYXRlTmFtZXMuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvYnVpbGRlckRlY2tBZGQuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL21ldGhvZHMvYnVpbGRlckRlY2tSZW1vdmUuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvbm9kZV9tb2R1bGVzL2ZpbGUtc2F2ZXIvRmlsZVNhdmVyLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL2NvbnZlcnREZWNrVG9GaWxlLmpzIiwiL21udC9jL3dvcmtzcGFjZS93d3cveWdvZGVja3ByaWNlL3NyYy9qcy9tZXRob2RzL2ZpbGVEb3dubG9hZERlY2suanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL2FwcE1ldGhvZHMuanMiLCIvbW50L2Mvd29ya3NwYWNlL3d3dy95Z29kZWNrcHJpY2Uvc3JjL2pzL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgcHJpY2VDdXJyZW5jaWVzID0gW3tcbiAgICBpZDogXCJkb2xsYXJfdXNcIixcbiAgICBuYW1lOiBcIlVTIERvbGxhclwiLFxuICAgIGxhYmVsOiBcIiRcIixcbiAgICB2YWw6IDFcbn0sIHtcbiAgICBpZDogXCJldXJvXCIsXG4gICAgbmFtZTogXCJFdXJvXCIsXG4gICAgbGFiZWw6IFwi4oKsXCIsXG4gICAgdmFsOiAwLjkxODYwM1xufSwge1xuICAgIGlkOiBcInBvdW5kXCIsXG4gICAgbmFtZTogXCJQb3VuZFwiLFxuICAgIGxhYmVsOiBcIsKjXCIsXG4gICAgdmFsOiAwLjc5Mzc1MlxufSwge1xuICAgIGlkOiBcImRvbGxhcl9jYVwiLFxuICAgIG5hbWU6IFwiQ2FuYWRpYW4gRG9sbGFyXCIsXG4gICAgbGFiZWw6IFwiJFwiLFxuICAgIHZhbDogMS4zMzQ0OFxufSwge1xuICAgIGlkOiBcImRvbGxhcl9hdVwiLFxuICAgIG5hbWU6IFwiQXVzdHJhbGlhbiBEb2xsYXJcIixcbiAgICBsYWJlbDogXCIkXCIsXG4gICAgdmFsOiAxLjMwOTMxXG59XTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpY2VDdXJyZW5jaWVzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHByaWNlTW9kZXMgPSBbe1xuICAgIGlkOiBcImxvd1wiLFxuICAgIG5hbWU6IFwiTG93XCIsXG59LCB7XG4gICAgaWQ6IFwiYXZlcmFnZVwiLFxuICAgIG5hbWU6IFwiQXZlcmFnZVwiLFxufSwge1xuICAgIGlkOiBcImhpZ2hcIixcbiAgICBuYW1lOiBcIkhpZ2hcIixcbn1dO1xuXG5leHBvcnQgZGVmYXVsdCBwcmljZU1vZGVzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGRlY2tQYXJ0cyA9IFt7XG4gICAgaWQ6IFwibWFpblwiLFxuICAgIG5hbWU6IFwiTWFpblwiLFxuICAgIGZpbGVJZDogXCIjbWFpblwiLFxuICAgIHNpemU6IFs0MCwgNjBdXG59LCB7XG4gICAgaWQ6IFwiZXh0cmFcIixcbiAgICBuYW1lOiBcIkV4dHJhXCIsXG4gICAgZmlsZUlkOiBcIiNleHRyYVwiLFxuICAgIHNpemU6IFswLCAxNV1cbn0sIHtcbiAgICBpZDogXCJzaWRlXCIsXG4gICAgbmFtZTogXCJTaWRlXCIsXG4gICAgZmlsZUlkOiBcIiFzaWRlXCIsXG4gICAgc2l6ZTogWzAsIDE1XVxufV07XG5cbmV4cG9ydCBkZWZhdWx0IGRlY2tQYXJ0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZGF0YVByaWNlQ3VycmVuY2llcyBmcm9tIFwiLi9kYXRhL3ByaWNlQ3VycmVuY2llc1wiO1xuaW1wb3J0IGRhdGFQcmljZU1vZGVzIGZyb20gXCIuL2RhdGEvcHJpY2VNb2Rlc1wiO1xuaW1wb3J0IGRhdGFEZWNrUGFydHMgZnJvbSBcIi4vZGF0YS9kZWNrUGFydHNcIjtcblxuY29uc3QgYXBwRGF0YSA9IHtcbiAgICBkZWNrcGFydHM6IGRhdGFEZWNrUGFydHMsXG4gICAgZGVjazoge1xuICAgICAgICBuYW1lOiBcIlVubmFtZWRcIixcbiAgICAgICAgbGluazogXCJcIixcbiAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgbWFpbjogW10sXG4gICAgICAgICAgICBleHRyYTogW10sXG4gICAgICAgICAgICBzaWRlOiBbXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBjYXJkczoge1xuICAgICAgICBwYWlyczogW10sXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSxcbiAgICBidWlsZGVyOiB7XG4gICAgICAgIGZpbHRlcjogXCJcIixcbiAgICAgICAgcGFpcnNGaWx0ZXJlZDogW10sXG4gICAgfSxcbiAgICBwcmljZToge1xuICAgICAgICBhY3RpdmVDdXJyZW5jeTogXCJkb2xsYXJfdXNcIixcbiAgICAgICAgbW9kZXM6IGRhdGFQcmljZU1vZGVzLFxuICAgICAgICBjdXJyZW5jaWVzOiBkYXRhUHJpY2VDdXJyZW5jaWVzXG4gICAgfSxcbiAgICBhamF4OiB7XG4gICAgICAgIGN1cnJlbnRseUxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBuYW1lc0xvYWRlZDogZmFsc2UsXG4gICAgICAgIHByaWNlc0xvYWRlZDogZmFsc2VcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhcHBEYXRhO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHVyaUxvY2F0aW9uTm9QYXJhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1cmlMb2NhdGlvbk5vUGFyYW07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgZWFjaE9iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGZuKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgY29uc3QgbCA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbCkge1xuICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0ga2V5c1tpXTtcblxuICAgICAgICBmbihvYmplY3RbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIGkpO1xuICAgICAgICBpKys7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZWFjaE9iamVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge1xuICAgIG5hbWVBUEksXG4gICAgaW1hZ2VBUEksXG4gICAgYnV5QVBJXG59IGZyb20gXCIuLi9kYXRhL2FwaVVSTHNcIjtcbmltcG9ydCB1dGlsRWFjaE9iamVjdCBmcm9tIFwiLi91dGlsRWFjaE9iamVjdFwiO1xuXG5jb25zdCBhcGlMb2FkTmFtZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuXG4gICAgdm0uYWpheC5jdXJyZW50bHlMb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5hamF4Lm5hbWVzTG9hZGVkID0gZmFsc2U7XG5cbiAgICBmZXRjaChuYW1lQVBJKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFBhaXJzID0gW107XG4gICAgICAgICAgICBjb25zdCBuYW1lU3RvcmFnZSA9IFtdO1xuXG4gICAgICAgICAgICB1dGlsRWFjaE9iamVjdChqc29uLCAobmFtZSwgaWQpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHREYXRhW2lkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW1nOiBgJHtpbWFnZUFQSX0vJHtpZH0uanBnYCxcbiAgICAgICAgICAgICAgICAgICAgbGluazogYCR7YnV5QVBJfSR7ZW5jb2RlVVJJKG5hbWUpfWAsXG4gICAgICAgICAgICAgICAgICAgIHByaWNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvL09ubHkgYWRkIGVhY2ggY2FyZCBvbmNlIHRvIHBhcnMsIHNraXAgYWx0ZXJuYXRlIGFydHNcbiAgICAgICAgICAgICAgICBpZiAobmFtZVN0b3JhZ2UuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0UGFpcnMucHVzaChbaWQsIG5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuYW1lU3RvcmFnZS5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZtLmNhcmRzLmRhdGEgPSByZXN1bHREYXRhO1xuICAgICAgICAgICAgdm0uY2FyZHMucGFpcnMgPSByZXN1bHRQYWlycy5zb3J0KChhLCBiKSA9PiBhWzFdLmxvY2FsZUNvbXBhcmUoYlsxXSkpO1xuICAgICAgICAgICAgdm0uYnVpbGRlclVwZGF0ZU5hbWVzKCk7XG5cbiAgICAgICAgICAgIHZtLmFqYXguY3VycmVudGx5TG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdm0uYWpheC5uYW1lc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpTG9hZE5hbWVzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBjb25zdCBuYW1lQVBJID0gXCIuL2FwaS9uYW1lcy9uYW1lcy5taW4uanNvblwiO1xuZXhwb3J0IGNvbnN0IHByaWNlQVBJID0gXCIuL2FwaS9wcmljZXMvcHJpY2VzLnBocD9uPVwiO1xuZXhwb3J0IGNvbnN0IGltYWdlQVBJID0gXCJodHRwczovL3lnb3Byb2RlY2suY29tL3BpY3NcIjtcbmV4cG9ydCBjb25zdCBidXlBUEkgPSBcImh0dHA6Ly95dWdpb2hwcmljZXMuY29tL2NhcmRfcHJpY2U/bmFtZT1cIjtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge1xuICAgIHByaWNlQVBJXG59IGZyb20gXCIuLi9kYXRhL2FwaVVSTHNcIjtcbi8vaW1wb3J0IHV0aWxFYWNoT2JqZWN0IGZyb20gXCIuL3V0aWxFYWNoT2JqZWN0XCI7XG5cbmNvbnN0IGFwaUxvYWRQcmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIC8vQXJyYXkgb2YgdW5pcXVlIGlkcywgbWludXMgdGhlIG9uZXMgd2hlcmUgcHJpY2VzIHdlcmUgYWxyZWFkeSBsb2FkZWRcbiAgICBjb25zdCBjYXJkSWRzID0gdm0uZGVja0NhcmRzV2l0aG91dFByaWNlRGF0YSgpO1xuXG4gICAgaWYgKGNhcmRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjYXJkTmFtZXMgPSBjYXJkSWRzLm1hcChjYXJkSWQgPT4gdm0uY2FyZHMuZGF0YVtjYXJkSWRdLm5hbWUpO1xuICAgICAgICBjb25zdCBwcmljZVF1ZXJ5ID0gYnRvYShKU09OLnN0cmluZ2lmeShjYXJkTmFtZXMpKTtcblxuICAgICAgICB2bS5hamF4LmN1cnJlbnRseUxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB2bS5hamF4LnByaWNlc0xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZldGNoKHByaWNlQVBJICsgcHJpY2VRdWVyeSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICAgIGNhcmRJZHMuZm9yRWFjaCgoaWQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRGF0YSA9IGpzb25baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gdm0uY2FyZHMuZGF0YVtpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQucHJpY2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93OiBwcmljZURhdGEubG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2U6IHByaWNlRGF0YS5hdmVyYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2g6IHByaWNlRGF0YS5oaWdoXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2bS5hamF4LmN1cnJlbnRseUxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5hamF4LnByaWNlc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2bS5hamF4LnByaWNlc0xvYWRlZCA9IHRydWU7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpTG9hZFByaWNlcztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZGVja1BhcnRzIGZyb20gXCIuLi9kYXRhL2RlY2tQYXJ0c1wiO1xuXG5jb25zdCBjb252ZXJ0RmlsZVRvRGVjayA9IGZ1bmN0aW9uIChmaWxlQ29udGVudCkge1xuICAgIGNvbnN0IGZpbGVDb250ZW50VHJpbW1lZCA9IGZpbGVDb250ZW50LnJlcGxhY2UoLyNjcmVhdGVkLisvLCBcIlwiKS50cmltKCk7XG4gICAgY29uc3QgYXJyID0gZmlsZUNvbnRlbnRUcmltbWVkLnNwbGl0KC9bIyFdLisvZykuc3BsaWNlKDEpO1xuICAgIGNvbnN0IGFyclBhcnRzID0gYXJyLm1hcChwYXJ0ID0+IHBhcnQuc3BsaXQoXCJcXG5cIikuZmlsdGVyKGxpbmUgPT4gbGluZS5sZW5ndGggPiAxKS5tYXAoTnVtYmVyKSk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICBkZWNrUGFydHMuZm9yRWFjaCgoZGVja3BhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJlc3VsdFtkZWNrcGFydC5pZF0gPSBhcnJQYXJ0c1tpbmRleF07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29udmVydEZpbGVUb0RlY2s7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IGNvbnZlcnRGaWxlVG9EZWNrIGZyb20gXCIuL2NvbnZlcnRGaWxlVG9EZWNrXCI7XG5cbmNvbnN0IGRlY2tMb2FkID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGNvbnN0IHZtID0gdGhpcztcblxuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgY29uc3QgZGVja0xpc3QgPSBjb252ZXJ0RmlsZVRvRGVjayhmaWxlQ29udGVudCk7XG5cbiAgICAgICAgdm0uZGVjay5uYW1lID0gZmlsZS5uYW1lLnJlcGxhY2UoXCIueWRrXCIsIFwiXCIpO1xuICAgICAgICB2bS5kZWNrLmxpc3QgPSBkZWNrTGlzdDtcbiAgICAgICAgdm0uZGVja1VwZGF0ZSgpO1xuICAgIH07XG5cbiAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlY2tMb2FkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBkZWNrUGFydHMgZnJvbSBcIi4uL2RhdGEvZGVja1BhcnRzXCI7XG5cbmNvbnN0IHVyaURlY2tEZWNvZGUgPSBmdW5jdGlvbiAoZGVja1VyaSkge1xuICAgIGNvbnN0IGRlY2tBcnJheSA9IEpTT04ucGFyc2UoYXRvYihkZWNrVXJpLnJlcGxhY2UoXCI/ZD1cIiwgXCJcIikpKTtcbiAgICBjb25zdCBkZWNrTGlzdCA9IHt9O1xuXG4gICAgZGVja1BhcnRzLmZvckVhY2goKGRlY2twYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICBkZWNrTGlzdFtkZWNrcGFydC5pZF0gPSBkZWNrQXJyYXlbMV1baW5kZXhdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtkZWNrQXJyYXlbMF0sIGRlY2tMaXN0XTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVyaURlY2tEZWNvZGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHVyaURlY2tEZWNvZGUgZnJvbSBcIi4vdXJpRGVja0RlY29kZVwiO1xuXG5jb25zdCBkZWNrTG9hZFVyaSA9IGZ1bmN0aW9uICh1cmlEZWNrKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIGNvbnN0IGRlY2tBcnJheSA9IHVyaURlY2tEZWNvZGUodXJpRGVjayk7XG5cbiAgICB2bS5kZWNrLm5hbWUgPSBkZWNrQXJyYXlbMF07XG4gICAgdm0uZGVjay5saXN0ID0gZGVja0FycmF5WzFdO1xuICAgIHZtLmRlY2tVcGRhdGUodXJpRGVjayk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZWNrTG9hZFVyaTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5cbmNvbnN0IHVyaURlY2tFbmNvZGUgPSBmdW5jdGlvbiAoZGVjaykge1xuICAgIGNvbnN0IGRlY2tBcnJheSA9IFtkZWNrLm5hbWUsIE9iamVjdC52YWx1ZXMoZGVjay5saXN0KV07XG4gICAgY29uc3QgZGVja1VyaSA9IGJ0b2EoSlNPTi5zdHJpbmdpZnkoZGVja0FycmF5KSk7XG5cbiAgICByZXR1cm4gXCI/ZD1cIiArIGRlY2tVcmk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1cmlEZWNrRW5jb2RlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB1cmlEZWNrRW5jb2RlIGZyb20gXCIuL3VyaURlY2tFbmNvZGVcIjtcblxuY29uc3QgZGVja1VwZGF0ZSA9IGZ1bmN0aW9uIChkZWNrTGluaykge1xuICAgIGNvbnN0IHZtID0gdGhpcztcblxuICAgIHZtLmRlY2subGluayA9IGRlY2tMaW5rIHx8IHVyaURlY2tFbmNvZGUodm0uZGVjayk7XG4gICAgdm0uYWpheC5wcmljZXNMb2FkZWQgPSBmYWxzZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlY2tVcGRhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHV0aWxFYWNoT2JqZWN0IGZyb20gXCIuL3V0aWxFYWNoT2JqZWN0XCI7XG5cbmNvbnN0IGRlY2tDYXJkc1dpdGhvdXRQcmljZURhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSB2bS5jYXJkcy5kYXRhO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgdXRpbEVhY2hPYmplY3Qodm0uZGVjay5saXN0LCBkZWNrcGFydCA9PiB7XG4gICAgICAgIGRlY2twYXJ0LmZvckVhY2goY2FyZElkID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZihjYXJkSWQpID09PSAtMSAmJiAhZGF0YVtjYXJkSWRdLnByaWNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2FyZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGVja0NhcmRzV2l0aG91dFByaWNlRGF0YTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBwcmljZUNvbnZlcnQgPSBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICBjb25zdCB2bSA9IHRoaXM7XG4gICAgY29uc3QgY3VycmVuY3kgPSB2bS5wcmljZS5jdXJyZW5jaWVzLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSB2bS5wcmljZS5hY3RpdmVDdXJyZW5jeSk7XG4gICAgY29uc3QgdmFsID0gKHByaWNlICogY3VycmVuY3kudmFsKS50b0ZpeGVkKDIpO1xuXG4gICAgcmV0dXJuIHZhbCArIGN1cnJlbmN5LmxhYmVsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpY2VDb252ZXJ0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHByaWNlRm9yQ2FyZCA9IGZ1bmN0aW9uIChpZCwgbW9kZSkge1xuICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICBjb25zdCBwcmljZSA9IHZtLmNhcmRzLmRhdGFbaWRdLnByaWNlW21vZGVdO1xuXG4gICAgaWYgKHByaWNlKSB7XG4gICAgICAgIHJldHVybiB2bS5wcmljZUNvbnZlcnQocHJpY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIk5vdCBmb3VuZFwiO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHByaWNlRm9yQ2FyZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgdXRpbEVhY2hPYmplY3QgZnJvbSBcIi4vdXRpbEVhY2hPYmplY3RcIjtcblxuY29uc3QgcHJpY2VGb3JTZWN0aW9uID0gZnVuY3Rpb24gKHNlY3Rpb24sIG1vZGUpIHtcbiAgICBjb25zdCBwcmljZVN1bSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG5cbiAgICAgICAgaWYgKGFyciAmJiBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICBhcnIuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZERhdGEgPSB2bS5jYXJkcy5kYXRhW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FyZERhdGEgJiYgY2FyZERhdGEucHJpY2UgJiYgY2FyZERhdGEucHJpY2VbbW9kZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGNhcmREYXRhLnByaWNlW21vZGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICBsZXQgcHJpY2UgPSAwO1xuXG4gICAgaWYgKHNlY3Rpb24gPT09IFwiKlwiKSB7XG4gICAgICAgIHV0aWxFYWNoT2JqZWN0KHZtLmRlY2subGlzdCwgZGVja3BhcnQgPT4ge1xuICAgICAgICAgICAgcHJpY2UgKz0gcHJpY2VTdW0oZGVja3BhcnQpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcmljZSA9IHByaWNlU3VtKHZtLmRlY2subGlzdFtzZWN0aW9uXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZtLnByaWNlQ29udmVydChwcmljZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcmljZUZvclNlY3Rpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgYnVpbGRlclVwZGF0ZU5hbWVzID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICBjb25zdCBmaWx0ZXIgPSB2bS5idWlsZGVyLmZpbHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCByZXN1bHQgPSB2bS5jYXJkcy5wYWlycy5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICAgIHJldHVybiBjYXJkWzFdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgICB9KTtcblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gNTAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zcGxpY2UoMCwgNTAwKTtcbiAgICB9XG5cbiAgICB2bS5idWlsZGVyLnBhaXJzRmlsdGVyZWQgPSByZXN1bHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBidWlsZGVyVXBkYXRlTmFtZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgYnVpbGRlckRlY2tBZGQgPSBmdW5jdGlvbiAoaWQsIHBhcnQpIHtcbiAgICBjb25zdCB2bSA9IHRoaXM7XG4gICAgY29uc3QgY2FyZElkID0gTnVtYmVyKGlkKTtcbiAgICBjb25zdCBkZWNrUGFydCA9IHZtLmRlY2subGlzdFtwYXJ0XTtcbiAgICBjb25zdCBkZWNrUGFydE1heCA9IHZtLmRlY2twYXJ0cy5maW5kKGRlY2twYXJ0ID0+IGRlY2twYXJ0LmlkID09PSBwYXJ0KS5zaXplWzFdO1xuXG4gICAgaWYgKGRlY2tQYXJ0Lmxlbmd0aCA8IGRlY2tQYXJ0TWF4ICYmIGRlY2tQYXJ0LmZpbHRlcihpZCA9PiBpZCA9PT0gY2FyZElkKS5sZW5ndGggPCAzKSB7XG4gICAgICAgIGRlY2tQYXJ0LnB1c2goY2FyZElkKTtcbiAgICAgICAgdm0uZGVja1VwZGF0ZSgpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkZXJEZWNrQWRkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGJ1aWxkZXJEZWNrUmVtb3ZlID0gZnVuY3Rpb24gKGlkLCBwYXJ0KSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIGxldCBmb3VuZENhcmQgPSBmYWxzZTtcblxuICAgIHZtLmRlY2subGlzdFtwYXJ0XSA9IHZtLmRlY2subGlzdFtwYXJ0XS5maWx0ZXIoY2FyZElkID0+IHtcbiAgICAgICAgaWYgKCFmb3VuZENhcmQpIHtcbiAgICAgICAgICAgIGlmIChpZCA9PT0gY2FyZElkKSB7XG4gICAgICAgICAgICAgICAgZm91bmRDYXJkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgdm0uZGVja1VwZGF0ZSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRlckRlY2tSZW1vdmU7XG4iLCIvKiBGaWxlU2F2ZXIuanNcbiAqIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuICogMS4zLjJcbiAqIDIwMTYtMDYtMTYgMTg6MjU6MTlcbiAqXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4gKiBMaWNlbnNlOiBNSVRcbiAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4gKi9cblxuLypnbG9iYWwgc2VsZiAqL1xuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi9cblxudmFyIHNhdmVBcyA9IHNhdmVBcyB8fCAoZnVuY3Rpb24odmlldykge1xuXHRcInVzZSBzdHJpY3RcIjtcblx0Ly8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcblx0aWYgKHR5cGVvZiB2aWV3ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyXG5cdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxuXHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0fVxuXHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcblx0XHQsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcblx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHRcdCwgaXNfc2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdCh2aWV3LkhUTUxFbGVtZW50KSB8fCB2aWV3LnNhZmFyaVxuXHRcdCwgaXNfY2hyb21lX2lvcyA9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcblx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0Ly8gdGhlIEJsb2IgQVBJIGlzIGZ1bmRhbWVudGFsbHkgYnJva2VuIGFzIHRoZXJlIGlzIG5vIFwiZG93bmxvYWRmaW5pc2hlZFwiIGV2ZW50IHRvIHN1YnNjcmliZSB0b1xuXHRcdCwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gMTAwMCAqIDQwIC8vIGluIG1zXG5cdFx0LCByZXZva2UgPSBmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHR2YXIgcmV2b2tlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXG5cdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0c2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xuXHRcdH1cblx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdGV2ZW50X3R5cGVzID0gW10uY29uY2F0KGV2ZW50X3R5cGVzKTtcblx0XHRcdHZhciBpID0gZXZlbnRfdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHR2YXIgbGlzdGVuZXIgPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRfdHlwZXNbaV1dO1xuXHRcdFx0XHRpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXIuY2FsbChmaWxlc2F2ZXIsIGV2ZW50IHx8IGZpbGVzYXZlcik7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHtcblx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHQsIGF1dG9fYm9tID0gZnVuY3Rpb24oYmxvYikge1xuXHRcdFx0Ly8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcblx0XHRcdC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG5cdFx0XHRpZiAoL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhGRUZGKSwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBibG9iO1xuXHRcdH1cblx0XHQsIEZpbGVTYXZlciA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHR2YXJcblx0XHRcdFx0ICBmaWxlc2F2ZXIgPSB0aGlzXG5cdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHQsIGZvcmNlID0gdHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZVxuXHRcdFx0XHQsIG9iamVjdF91cmxcblx0XHRcdFx0LCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkaXNwYXRjaChmaWxlc2F2ZXIsIFwid3JpdGVzdGFydCBwcm9ncmVzcyB3cml0ZSB3cml0ZWVuZFwiLnNwbGl0KFwiIFwiKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gb24gYW55IGZpbGVzeXMgZXJyb3JzIHJldmVydCB0byBzYXZpbmcgd2l0aCBvYmplY3QgVVJMc1xuXHRcdFx0XHQsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKChpc19jaHJvbWVfaW9zIHx8IChmb3JjZSAmJiBpc19zYWZhcmkpKSAmJiB2aWV3LkZpbGVSZWFkZXIpIHtcblx0XHRcdFx0XHRcdC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xuXHRcdFx0XHRcdFx0dmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0XHRcdFx0XHRyZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB1cmwgPSBpc19jaHJvbWVfaW9zID8gcmVhZGVyLnJlc3VsdCA6IHJlYWRlci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LywgJ2RhdGE6YXR0YWNobWVudC9maWxlOycpO1xuXHRcdFx0XHRcdFx0XHR2YXIgcG9wdXAgPSB2aWV3Lm9wZW4odXJsLCAnX2JsYW5rJyk7XG5cdFx0XHRcdFx0XHRcdGlmKCFwb3B1cCkgdmlldy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuXHRcdFx0XHRcdFx0XHR1cmw9dW5kZWZpbmVkOyAvLyByZWxlYXNlIHJlZmVyZW5jZSBiZWZvcmUgZGlzcGF0Y2hpbmdcblx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG5cdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxuXHRcdFx0XHRcdGlmICghb2JqZWN0X3VybCkge1xuXHRcdFx0XHRcdFx0b2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChmb3JjZSkge1xuXHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIG9wZW5lZCA9IHZpZXcub3BlbihvYmplY3RfdXJsLCBcIl9ibGFua1wiKTtcblx0XHRcdFx0XHRcdGlmICghb3BlbmVkKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEFwcGxlIGRvZXMgbm90IGFsbG93IHdpbmRvdy5vcGVuLCBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvc2FmYXJpL2RvY3VtZW50YXRpb24vVG9vbHMvQ29uY2VwdHVhbC9TYWZhcmlFeHRlbnNpb25HdWlkZS9Xb3JraW5nd2l0aFdpbmRvd3NhbmRUYWJzL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMuaHRtbFxuXHRcdFx0XHRcdFx0XHR2aWV3LmxvY2F0aW9uLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0fVxuXHRcdFx0O1xuXHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblxuXHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNhdmVfbGluay5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRcdGNsaWNrKHNhdmVfbGluayk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdFx0cmV2b2tlKG9iamVjdF91cmwpO1xuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0fVxuXHRcdCwgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlXG5cdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0cmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XG5cdFx0fVxuXHQ7XG5cdC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdG5hbWUgPSBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCI7XG5cblx0XHRcdGlmICghbm9fYXV0b19ib20pIHtcblx0XHRcdFx0YmxvYiA9IGF1dG9fYm9tKGJsb2IpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIG5hbWUpO1xuXHRcdH07XG5cdH1cblxuXHRGU19wcm90by5hYm9ydCA9IGZ1bmN0aW9uKCl7fTtcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRGU19wcm90by5XUklUSU5HID0gMTtcblx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cblx0RlNfcHJvdG8uZXJyb3IgPVxuXHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRGU19wcm90by5vbnByb2dyZXNzID1cblx0RlNfcHJvdG8ub253cml0ZSA9XG5cdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRGU19wcm90by5vbmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZWVuZCA9XG5cdFx0bnVsbDtcblxuXHRyZXR1cm4gc2F2ZUFzO1xufShcblx0ICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuXHR8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xuXHR8fCB0aGlzLmNvbnRlbnRcbikpO1xuLy8gYHNlbGZgIGlzIHVuZGVmaW5lZCBpbiBGaXJlZm94IGZvciBBbmRyb2lkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHRcbi8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCkgJiYgKGRlZmluZS5hbWQgIT09IG51bGwpKSB7XG4gIGRlZmluZShcIkZpbGVTYXZlci5qc1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2F2ZUFzO1xuICB9KTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZGVja1BhcnRzIGZyb20gXCIuLi9kYXRhL2RlY2tQYXJ0c1wiO1xuXG5jb25zdCBjb252ZXJ0RGVja1RvRmlsZSA9IGZ1bmN0aW9uIChkZWNrTGlzdCkge1xuICAgIGxldCByZXN1bHQgPSBbXTtcblxuICAgIGRlY2tQYXJ0cy5mb3JFYWNoKGRlY2twYXJ0ID0+IHtcbiAgICAgICAgcmVzdWx0LnB1c2goZGVja3BhcnQuZmlsZUlkKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChkZWNrTGlzdFtkZWNrcGFydC5pZF0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXFxuXCIpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29udmVydERlY2tUb0ZpbGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IEZpbGVTYXZlciBmcm9tIFwiZmlsZS1zYXZlci9GaWxlU2F2ZXIuanNcIjtcblxuaW1wb3J0IGNvbnZlcnREZWNrVG9GaWxlIGZyb20gXCIuL2NvbnZlcnREZWNrVG9GaWxlLmpzXCI7XG5cbmNvbnN0IGZpbGVEb3dubG9hZERlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgdm0gPSB0aGlzO1xuICAgIGNvbnN0IGZpbGVEYXRhID0gY29udmVydERlY2tUb0ZpbGUodm0uZGVjay5saXN0KTtcbiAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2ZpbGVEYXRhXSwgdm0uZGVjay5uYW1lICsgXCIueWRrXCIsIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0L3lka1wiXG4gICAgfSk7XG5cbiAgICByZXR1cm4gRmlsZVNhdmVyLnNhdmVBcyhmaWxlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZpbGVEb3dubG9hZERlY2s7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHVyaUxvY2F0aW9uTm9QYXJhbSBmcm9tIFwiLi9tZXRob2RzL3VyaUxvY2F0aW9uTm9QYXJhbVwiO1xuXG5pbXBvcnQgYXBpTG9hZE5hbWVzIGZyb20gXCIuL21ldGhvZHMvYXBpTG9hZE5hbWVzXCI7XG5pbXBvcnQgYXBpTG9hZFByaWNlcyBmcm9tIFwiLi9tZXRob2RzL2FwaUxvYWRQcmljZXNcIjtcblxuaW1wb3J0IGRlY2tMb2FkIGZyb20gXCIuL21ldGhvZHMvZGVja0xvYWRcIjtcbmltcG9ydCBkZWNrTG9hZFVyaSBmcm9tIFwiLi9tZXRob2RzL2RlY2tMb2FkVXJpXCI7XG5pbXBvcnQgZGVja1VwZGF0ZSBmcm9tIFwiLi9tZXRob2RzL2RlY2tVcGRhdGVcIjtcbmltcG9ydCBkZWNrQ2FyZHNXaXRob3V0UHJpY2VEYXRhIGZyb20gXCIuL21ldGhvZHMvZGVja0NhcmRzV2l0aG91dFByaWNlRGF0YVwiO1xuXG5pbXBvcnQgcHJpY2VDb252ZXJ0IGZyb20gXCIuL21ldGhvZHMvcHJpY2VDb252ZXJ0XCI7XG5pbXBvcnQgcHJpY2VGb3JDYXJkIGZyb20gXCIuL21ldGhvZHMvcHJpY2VGb3JDYXJkXCI7XG5pbXBvcnQgcHJpY2VGb3JTZWN0aW9uIGZyb20gXCIuL21ldGhvZHMvcHJpY2VGb3JTZWN0aW9uXCI7XG5cbmltcG9ydCBidWlsZGVyVXBkYXRlTmFtZXMgZnJvbSBcIi4vbWV0aG9kcy9idWlsZGVyVXBkYXRlTmFtZXNcIjtcbmltcG9ydCBidWlsZGVyRGVja0FkZCBmcm9tIFwiLi9tZXRob2RzL2J1aWxkZXJEZWNrQWRkXCI7XG5pbXBvcnQgYnVpbGRlckRlY2tSZW1vdmUgZnJvbSBcIi4vbWV0aG9kcy9idWlsZGVyRGVja1JlbW92ZVwiO1xuXG5pbXBvcnQgZmlsZURvd25sb2FkRGVjayBmcm9tIFwiLi9tZXRob2RzL2ZpbGVEb3dubG9hZERlY2tcIjtcblxuY29uc3QgYXBwTWV0aG9kcyA9IHtcbiAgICB1cmlMb2NhdGlvbk5vUGFyYW0sXG5cbiAgICBhcGlMb2FkTmFtZXMsXG4gICAgYXBpTG9hZFByaWNlcyxcblxuICAgIGRlY2tMb2FkLFxuICAgIGRlY2tMb2FkVXJpLFxuICAgIGRlY2tVcGRhdGUsXG4gICAgZGVja0NhcmRzV2l0aG91dFByaWNlRGF0YSxcblxuICAgIHByaWNlQ29udmVydCxcbiAgICBwcmljZUZvckNhcmQsXG4gICAgcHJpY2VGb3JTZWN0aW9uLFxuXG4gICAgYnVpbGRlclVwZGF0ZU5hbWVzLFxuICAgIGJ1aWxkZXJEZWNrQWRkLFxuICAgIGJ1aWxkZXJEZWNrUmVtb3ZlLFxuXG4gICAgZmlsZURvd25sb2FkRGVjayxcblxuICAgIG9uRmlsZUNoYW5nZShlKSB7XG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcbiAgICAgICAgY29uc3QgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlcztcblxuICAgICAgICB2bS5kZWNrTG9hZChmaWxlc1swXSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwTWV0aG9kcztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgVnVlIGZyb20gXCJWdWUvZGlzdC92dWUuZXNtLmpzXCI7XG5pbXBvcnQgYXBwRGF0YSBmcm9tIFwiLi9hcHBEYXRhXCI7XG5pbXBvcnQgYXBwTWV0aG9kcyBmcm9tIFwiLi9hcHBNZXRob2RzXCI7XG5cbi8vcmVhZHktZXZlbnQgcmVxdWlyZWQgYmVjYXVzZSB5Z29wcm9kZWNrLmNvbSBsb2FkcyBzY3JpcHRzIGluIGhlYWRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCB1cmxRdWVyeSA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICBjb25zdCBwcmljZUFwcCA9IG5ldyBWdWUoe1xuICAgICAgICBlbDogXCIjYXBwXCIsXG4gICAgICAgIGRhdGE6IGFwcERhdGEsXG4gICAgICAgIG1ldGhvZHM6IGFwcE1ldGhvZHNcbiAgICB9KTtcblxuICAgIHByaWNlQXBwLmFwaUxvYWROYW1lcygpO1xuXG4gICAgaWYgKHVybFF1ZXJ5LmluZGV4T2YoXCI/ZFwiKSAhPT0gLTEpIHtcbiAgICAgICAgcHJpY2VBcHAuZGVja0xvYWRVcmkodXJsUXVlcnkpO1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbInByaWNlQ3VycmVuY2llcyIsInByaWNlTW9kZXMiLCJkZWNrUGFydHMiLCJhcHBEYXRhIiwiZGF0YURlY2tQYXJ0cyIsImRhdGFQcmljZU1vZGVzIiwiZGF0YVByaWNlQ3VycmVuY2llcyIsInVyaUxvY2F0aW9uTm9QYXJhbSIsImxvY2F0aW9uIiwib3JpZ2luIiwicGF0aG5hbWUiLCJlYWNoT2JqZWN0Iiwib2JqZWN0IiwiZm4iLCJrZXlzIiwiT2JqZWN0IiwibCIsImxlbmd0aCIsImkiLCJjdXJyZW50S2V5IiwiYXBpTG9hZE5hbWVzIiwidm0iLCJ0aGlzIiwiYWpheCIsImN1cnJlbnRseUxvYWRpbmciLCJuYW1lc0xvYWRlZCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJyZXN1bHREYXRhIiwicmVzdWx0UGFpcnMiLCJuYW1lU3RvcmFnZSIsIm5hbWUiLCJpZCIsImltYWdlQVBJIiwiZW5jb2RlVVJJIiwiaW5kZXhPZiIsInB1c2giLCJjYXJkcyIsImRhdGEiLCJwYWlycyIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJidWlsZGVyVXBkYXRlTmFtZXMiLCJhcGlMb2FkUHJpY2VzIiwiY2FyZElkcyIsImRlY2tDYXJkc1dpdGhvdXRQcmljZURhdGEiLCJjYXJkTmFtZXMiLCJtYXAiLCJjYXJkSWQiLCJwcmljZVF1ZXJ5IiwiYnRvYSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmljZXNMb2FkZWQiLCJmb3JFYWNoIiwiaW5kZXgiLCJwcmljZURhdGEiLCJjYXJkIiwicHJpY2UiLCJsb3ciLCJhdmVyYWdlIiwiaGlnaCIsImNvbnZlcnRGaWxlVG9EZWNrIiwiZmlsZUNvbnRlbnQiLCJmaWxlQ29udGVudFRyaW1tZWQiLCJyZXBsYWNlIiwidHJpbSIsImFyciIsInNwbGl0Iiwic3BsaWNlIiwiYXJyUGFydHMiLCJwYXJ0IiwiZmlsdGVyIiwibGluZSIsIk51bWJlciIsInJlc3VsdCIsImRlY2twYXJ0IiwiZGVja0xvYWQiLCJmaWxlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJ0YXJnZXQiLCJkZWNrTGlzdCIsImRlY2siLCJsaXN0IiwiZGVja1VwZGF0ZSIsInJlYWRBc1RleHQiLCJ1cmlEZWNrRGVjb2RlIiwiZGVja1VyaSIsImRlY2tBcnJheSIsInBhcnNlIiwiYXRvYiIsImRlY2tMb2FkVXJpIiwidXJpRGVjayIsInVyaURlY2tFbmNvZGUiLCJ2YWx1ZXMiLCJkZWNrTGluayIsImxpbmsiLCJwcmljZUNvbnZlcnQiLCJjdXJyZW5jeSIsImN1cnJlbmNpZXMiLCJmaW5kIiwiaXRlbSIsImFjdGl2ZUN1cnJlbmN5IiwidmFsIiwidG9GaXhlZCIsImxhYmVsIiwicHJpY2VGb3JDYXJkIiwibW9kZSIsInByaWNlRm9yU2VjdGlvbiIsInNlY3Rpb24iLCJwcmljZVN1bSIsImNhcmREYXRhIiwiYnVpbGRlciIsInRvTG93ZXJDYXNlIiwicGFpcnNGaWx0ZXJlZCIsImJ1aWxkZXJEZWNrQWRkIiwiZGVja1BhcnQiLCJkZWNrUGFydE1heCIsImRlY2twYXJ0cyIsInNpemUiLCJidWlsZGVyRGVja1JlbW92ZSIsImZvdW5kQ2FyZCIsInNhdmVBcyIsInZpZXciLCJuYXZpZ2F0b3IiLCJ0ZXN0IiwidXNlckFnZW50IiwiZG9jIiwiZG9jdW1lbnQiLCJnZXRfVVJMIiwiVVJMIiwid2Via2l0VVJMIiwic2F2ZV9saW5rIiwiY3JlYXRlRWxlbWVudE5TIiwiY2FuX3VzZV9zYXZlX2xpbmsiLCJjbGljayIsIm5vZGUiLCJldmVudCIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwiSFRNTEVsZW1lbnQiLCJzYWZhcmkiLCJpc19jaHJvbWVfaW9zIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsInJldm9rZSIsInJldm9rZXIiLCJyZXZva2VPYmplY3RVUkwiLCJyZW1vdmUiLCJkaXNwYXRjaCIsImZpbGVzYXZlciIsImV2ZW50X3R5cGVzIiwiY29uY2F0IiwibGlzdGVuZXIiLCJjYWxsIiwiYXV0b19ib20iLCJibG9iIiwidHlwZSIsIkJsb2IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJGaWxlU2F2ZXIiLCJub19hdXRvX2JvbSIsIm9iamVjdF91cmwiLCJmb3JjZSIsImRpc3BhdGNoX2FsbCIsInJlYWR5U3RhdGUiLCJJTklUIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwiRE9ORSIsIm9ubG9hZGVuZCIsInVybCIsIm9wZW4iLCJ1bmRlZmluZWQiLCJyZWFkQXNEYXRhVVJMIiwiRlNfcHJvdG8iLCJwcm90b3R5cGUiLCJtc1NhdmVPck9wZW5CbG9iIiwiYWJvcnQiLCJXUklUSU5HIiwiZXJyb3IiLCJvbndyaXRlc3RhcnQiLCJvbnByb2dyZXNzIiwib253cml0ZSIsIm9uYWJvcnQiLCJvbmVycm9yIiwib253cml0ZWVuZCIsInNlbGYiLCJ3aW5kb3ciLCJjb250ZW50IiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbnZlcnREZWNrVG9GaWxlIiwiZmlsZUlkIiwiam9pbiIsImZpbGVEb3dubG9hZERlY2siLCJmaWxlRGF0YSIsIkZpbGUiLCJhcHBNZXRob2RzIiwiZmlsZXMiLCJkYXRhVHJhbnNmZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidXJsUXVlcnkiLCJzZWFyY2giLCJwcmljZUFwcCIsIlZ1ZSJdLCJtYXBwaW5ncyI6InFEQUVBLElBQU1BLFFBQ0UsaUJBQ0Usa0JBQ0MsUUFDRixPQUVELFlBQ0UsYUFDQyxRQUNGLGFBRUQsYUFDRSxjQUNDLFFBQ0YsYUFFRCxpQkFDRSx3QkFDQyxRQUNGLGFBRUQsaUJBQ0UsMEJBQ0MsUUFDRixVQ3hCSEMsT0FDRSxXQUNFLFdBRUYsZUFDRSxlQUVGLFlBQ0UsU0NSSkMsT0FDRSxZQUNFLGNBQ0UsY0FDRCxHQUFJLFNBRVAsYUFDRSxlQUNFLGVBQ0QsRUFBRyxTQUVOLFlBQ0UsY0FDRSxjQUNELEVBQUcsTUNWUkMsYUFDU0MsYUFFRCxlQUNBLDZFQVlFLDJDQUlRLGtCQUNUQyxhQUNLQywyQkFHTSxlQUNMLGdCQUNDLElDL0JoQkMsRUFBcUIsaUJBQ2hCQyxVQUFTQyxPQUFTRCxTQUFTRSxVQ0RoQ0MsRUFBYSxTQUFVQyxFQUFRQyxVQUMzQkMsR0FBT0MsT0FBT0QsS0FBS0YsR0FDbkJJLEVBQUlGLEVBQUtHLE9BQ1hDLEVBQUksRUFFREEsRUFBSUYsR0FBRyxJQUNKRyxHQUFhTCxFQUFLSSxLQUVyQk4sRUFBT08sR0FBYUEsRUFBWUQsU0NEckNFLEVBQWUsY0FDWEMsR0FBS0Ms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"}